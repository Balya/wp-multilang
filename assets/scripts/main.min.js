(function(a){a(function(){a(document).on("click",".delete-language",function(){var b=a(this);if(confirm(wpm_params.confirm_question)){var c={action:"wpm_delete_lang",language:b.data("language"),security:wpm_params.delete_lang_nonce};a.ajax({url:wpm_params.ajax_url,type:"post",data:c,dataType:"json",complete:function(){b.parent().parents(".postbox").fadeOut("slow",function(){a(this).remove()})},error:function(f,d,e){alert(e+"\r\n"+f.statusText+"\r\n"+f.responseText)}})}});a("#wpm-languages").sortable();a(document).on("change",".wpm-flags",function(){var b=a(this);if(b.val()){var c=wpm_params.flags_dir+b.val();if(b.next().length){b.next().attr("src",c)}else{b.parent().append('<img src="'+c+'">')}}else{b.next().remove()}});a("#add_lang").click(function(){var b=wp.template("wpm-add-lang");var c={count:wpm_lang_count};a("#wpm-languages").append(b(c)).sortable();wpm_lang_count++});a(document).on("click",".handlediv",function(){a(this).parent().toggleClass("closed")})})}(jQuery));